{% extends "layout.html" %}
{% block content %}   
<body>

<div id="loginbox">
    <p>Room name: <input id="txtRoom" type="text" name="Room" value=""></p>
	<p>Your nickname: <input id="txtNickname" type="text" name="Nickname" value=""></p>
	<p><input id="btnLogin" type="button" name="Send" value="Start chat!" disabled="disabled"/></p>
	</div>


<script>
    Zepto(function($){
        $('#btnLogin').click(function() {
            var h;
            h = '/chat.html/?room=' + $('#txtNickname').val() + '&nick=' + $('#txtNickname').val();
            window.location = '/chat'
            console.log("Chat Opened");
        });

        $("#txtRoom").keyup(function(event) { update_send(); } );
        $("#txtNickname").keyup(function(event) { update_send(); } );

    });

    function update_send() {
        if ( $("#txtRoom").val() != "" && $("#txtNickname").val() != "") {
            $("#btnLogin").removeAttr("disabled");
        } else {
            $("#btnLogin").attr("disabled", "disabled");
        }
    };

</script>
</body>

{% endblock %}
